<!DOCTYPE html>
<html>
<head>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
	<link rel="stylesheet" href="main.css" type="text/css">
	<link rel="stylesheet alternative" type="text/css" href="style1.css" disabled=true>
	<link rel="stylesheet alternative" type="text/css" href="style2.css" disabled=true>

</head>
<header id="header">
					<h1 id="home"><a href="../index.html">Home</span></a></h1>
					<nav id="nav">
						<ul>
							 <li class="nav-item dropdown">
				                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Latest Issues</a>
				                <div id="dropdownMenu" class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
				                  <!-- Scritti con Javascript -->
				                </div>
				             </li>	
							<li class="menu"><a href="#">Disclaimer</a></li>	
							<li class="menu"><a href="#">Team</a></li>		
							<li class="menu"><a href="#">Documentation</a></li>						
						</ul>
					</nav>
				</header>
<body>
	<h1>Topic1</h1>
	<div >
	<ul id="articlebox"></ul>
	</div>
	<div id="stylebox">
	<ul><il><button id="style1" class="styles">Get style 1</button></il>
		<il><button id="style2" class="styles">Get style 2</button></il>
		<il><button id="reset" class="styles">reset</button></il></ul>
	</div>

<div class="container">
  <div class="row" id="Articles">
  </div>
</div>

</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>

	$(document).ready(main);

	function main() {
		       $.ajax({
		      method:"GET",
              url : 'articlelist.json', 
              dataType : 'json', 
              cache : false, 
              success : function(data) {
                console.log(data);
                addArticles(data);
                },
              error: function(){
              	alert("error:no data available")
              }
              });

        function addArticles(obj) {
            for (i in obj.articles) {
            	$("#articlebox").append("<il><a href='#' id='"+obj.articles[i].title+ "' onclick=\"load('"+obj.articles[i].url+"')\"><button>" +obj.articles[i].title +"</button></a></il>");
          }
          	
   }
 }

          	
		function load(file) {
			$.ajax({
				method: 'GET',
				url: "articlelist.json",
				dataType:"json",
				success: function(d) {
				for (i in d.articles) {
					if (file == d.articles[i].url){
						var title = d.articles[i].box;
						if ($("#"+title).length) {
		            	$("#"+title).remove();
						}
						else {
		            	$("#Articles").append("<div class='col-md 4' id='"+title+"'></div>");
		            	$("#"+title).load(file);
							}
							}
				}
				},
				error: function() {
					alert('Could not load file '+file)
				}
			});
         }  

 		$("#reset").click(function(){
		  	$('link[rel="stylesheet alternative"]').attr('disabled', 'true');
	  });

		$("#style1").click(function(){
			$('link[rel="stylesheet alternative"]').attr('disabled', 'true');
		  	$('link[href="style1.css"]').removeAttr('disabled');
	  });
		$("#style2").click(function(){
		$('link[rel="stylesheet alternative"]').attr('disabled', 'true');
		$('link[href="style2.css"]').removeAttr('disabled');
		});  
	 


</script>