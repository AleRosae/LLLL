<!DOCTYPE html>
<html>
<head>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
	<link rel="stylesheet" href="main.css" type="text/css">
	<link rel="stylesheet alternative" type="text/css" href="style1.css" disabled=true>
	<link rel="stylesheet alternative" type="text/css" href="style2.css" disabled=true>

</head>
<header id="header">
					<h1 id="home"><a href="index.html">Home</span></a></h1>
					<nav id="nav">
						<ul>
							 <li class="nav-item dropdown">
				                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Latest Issues</a>
				                <div id="dropdownMenu" class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
				                </div>
				             </li>	
							<li class="menu"><a href="#">Disclaimer</a></li>	
							<li class="menu"><a href="#">Team</a></li>		
							<li class="menu"><a href="#">Documentation</a></li>						
						</ul>
					</nav>
				</header>
<body>
	<div id="IssuesBox">
	<ul  id="IssuesButton"></ul>
	</div>

</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
	$(document).ready(main);

	function main(){
		      $.ajax({
		      method:"GET",
              url : 'filelist.json', 
              dataType : 'json', 
              cache : false, 
              success : function(data) {
                console.log(data);
                createIssues(data);
                },
              error: function(){
              	alert("error: no data available")
              }
              });

            function createIssues(obj) {
                for (i in obj.issues) {
                    $("#dropdownMenu").append("<a class='dropdown-item' href='" + obj.issues[i].pageLink  + obj.issues[i].topic + "</a>");
                    $("#IssuesBox").append("<div class=\"card\" style=\"width: 18rem;\" id=\"issue"+obj.issues[i].issue+"\"></div>");
                    $("#issue"+obj.issues[i].issue).append("<img src=\""+obj.issues[i].img+"\" class=\"card-img-top\" alt=\"...\">");   
                    $("#issue"+obj.issues[i].issue).append("<div class=\"card-body\" id=\"CardBody"+obj.issues[i].issue+"\"></div>");
                    $("#CardBody"+obj.issues[i].issue).append("<p class=\"card-text\">"+obj.issues[i].description+"</p>");   
					$("#CardBody"+obj.issues[i].issue).append("<h5 class=\"card-title\">"+obj.issues[i].topic+"</h5>");                                          
                    $("#CardBody"+obj.issues[i].issue).append("<a class=\btn btn-primary\" href=\""+obj.issues[i].pageLink+"\"><button>Check the issue </button></a>");
              }

            }
}



</script>
</html>